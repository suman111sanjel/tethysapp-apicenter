{% extends "apicenter/base.html" %}
{% load tethys_gizmos %}
{% load staticfiles %}

{% block header_buttons %}
    {{ block.super }}
{% endblock %}


{% block app_content %}

    <div class="real-content">
        {#        <h2>SERVIR API Service</h2>#}
        {#        <p>#}
        {#            A REST API is an application#}
        {#            program interface that uses HTTP request to GET, POST data from the#}
        {#            server.&nbsp; THE REST API service has been developed to provide access to the#}
        {#            SERVIR dataset without the need to access the web application to view or#}
        {#            download data.&nbsp; The data can be retrieved with the API service using#}
        {#            programming languages like Python or R#}
        {#        </p>#}
        {#        <hr>#}
        <h2>ECMWF API Service</h2>
        <p>
            The Streamflow Prediction Tool provides
            15-day streamflow predicted estimates by using the European Center for
            Medium-Range Weather Forecasts (ECMWF) runoff predictions routed with the RAPID
            program. The connection between the predicted and hind casted runoff is
            generated with GIS tools both from ESRI as well as from open source
            contributions. &nbsp;The Streamflow Prediction Tool was developed at Brigham
            Young University with support from the National Science Foundation (NSF).
        </p>
        <p>
            ECMWF API service can be used to create
            two types of output.&nbsp; The first one is in a JSON format which can be used
            to develop interactive applications. Secondly in the CSV format as data.
        </p>
        <hr>
        <h2>API Documentation</h2>
        <hr>
        <div class="">
            <!-- Content here -->
            <div class="">
                <h4>Get Forecast Data</h4>
                <table class="table">
                    <tr>
                        <th>API Link</th>
                        <td><a href="http://tethys.icimod.org/apps/apicenter/api/getForecast/">http://tethys.icimod.org/apps/apicenter/api/getForecast/</a>
                        </td>
                    </tr>
                    <tr>
                        <th>Method</th>
                        <td>GET</td>
                    </tr>

                </table>
                <div>
                    <p>Parameters with description</p>
                    <table class="table table-striped">
                        <thead>
                        <tr>
                            <th scope="col">Parameters</th>
                            <th scope="col">Description</th>
                            <th scope="col">Example</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <th scope="row">comid</th>
                            <td>The identifier for the stream reach.</td>
                            <td>1256</td>
                        </tr>
                        <tr>
                            <th scope="row">cty</th>
                            <td>Name of the country in small letter (nepal, bhutan or bangladesh)</td>
                            <td>nepal</td>
                        </tr>
                        <tr>
                            <th scope="row">forecastDate</th>
                            <td>(optional) The date of the forecast. Format for the date is YYYY-MM-DD. Default is the
                                latest
                                date.
                            </td>
                            <td>2019-01-25</td>
                        </tr>
                        </tbody>
                    </table>
                </div>

                <p><b><span class="text-success">Example
to access JSON format (Python programming)</span></b></p>

                <pre class="prettyprint">
import requests
request_params = dict(cty='nepal', comid=5, forecastDate='2019-06')
request_headers = dict(Authorization='Token asdfqwer1234')
res = requests.get('http://tethys.icimod.org/apps/apicenter/api/getForecast/', params=request_params, headers=request_headers)
</pre>

                <p><b><span class="text-success">Example to access CSV format (Python programming)</span></b></p>

                <pre class="prettyprint">
import requests
request_params = dict(cty='nepal', comid=5, forecastDate='2019-06')
request_headers = dict(Authorization='Token asdfqwer1234')
res = requests.get('http://tethys.icimod.org/apps/apicenter/api/getForecastCSV/', params=request_params, headers=request_headers)
</pre>
            </div>
            <hr>
            <div class="">
                <h4>Get Historic Data (from 1980 - )</h4>
                <table class="table">
                    <tr>
                        <th>API Link</th>
                        <td><a href="http://tethys.icimod.org/apps/apicenter/api/getHistoric/">http://tethys.icimod.org/apps/apicenter/api/getHistoric/</a>
                        </td>
                    </tr>
                    <tr>
                        <th>Method</th>
                        <td>GET</td>
                    </tr>

                </table>
                <div>
                    <p>Parameters with description </p>
                    <table class="table table-striped">
                        <thead>
                        <tr>
                            <th scope="col">Parameters</th>
                            <th scope="col">Description</th>
                            <th scope="col">Example</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <th scope="row">comid</th>
                            <td>The identifier for the stream reach.</td>
                            <td>1256</td>
                        </tr>
                        <tr>
                            <th scope="row">cty</th>
                            <td>Name of the country in small letter (nepal, bhutan or bangladesh)</td>
                            <td>nepal</td>
                        </tr>
                        </tbody>
                    </table>
                </div>

                <p><b><span class="text-success">Example to access JSON format (Python programming)</span></b></p>

                <pre class="prettyprint">
import requests
request_params = dict(cty='nepal', comid=5)
request_headers = dict(Authorization='Token asdfqwer1234')
res = requests.get('http://tethys.icimod.org/apps/apicenter/api/getHistoric/', params=request_params, headers=request_headers)
</pre>

                <p><b><span class="text-success">Example to access CSV format (Python programming)</span></b></p>

                <pre class="prettyprint">
import requests
request_params = dict(cty='nepal', comid=5)
request_headers = dict(Authorization='Token asdfqwer1234')
res = requests.get('http://tethys.icimod.org/apps/apicenter/api/getHistoricCSV/', params=request_params, headers=request_headers)
</pre>
            </div>
        </div>

    </div>

    {#    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet">#}
    <link href="{% static 'apicenter/css/prettystyles.css' %}" rel="stylesheet">
{#    <link href="{% static 'apicenter/css/ECMWF_API_Service_mystyle.css' %}" rel="stylesheet">#}
    <style>

        p {
            font-size: 17px;
            text-align: justify;
        }

        h2 {
            color: #00749a;
        }

        .table > tbody > tr > td, .table > tbody > tr > th, .table > tfoot > tr > td, .table > tfoot > tr > th, .table > thead > tr > td, .table > thead > tr > th {
            border-top: 0px solid #ddd;
        }
    </style>


    <script src="{% static 'apicenter/js/prettify.js' %}"></script>

    <script>
        $(function () {
            prettyPrint();
            $(".nav-li").eq(4).addClass('active-nav-li');
        });
    </script>
{% endblock %}


